<form [formGroup]="register" (ngSubmit)="onSubmit()" id="registerForm">
  <fieldset>
    <legend>Register Form</legend>
    <div class="label-input">
      <input
        id="input-email"
        type="text"
        formControlName="email"
        placeholder="e.g: someone@email.com"
        required
      />
      <div class="label-error-wrapper">
        <label id="label-email" for="input-email"> Email.</label>
        <span role="alert" class="error">
          {{ email?.errors | errorsMessagePipe: errorMessages.email }}
        </span>
      </div>
    </div>

    <div class="label-input">
      <input
        id="input-username"
        type="email"
        formControlName="username"
        placeholder="e.g: user_name-888"
        required
      />
      <div class="label-error-wrapper">
        <label id="label-username" for="input-username"> Username. </label>
        <span role="alert" class="error">
          {{ username?.errors | errorsMessagePipe: errorMessages.username }}
        </span>
      </div>
    </div>

    <div class="label-input">
      <input
        id="input-password"
        type="password"
        formControlName="password"
        placeholder="e.g: Password123"
        required
      />
      <div class="label-error-wrapper">
        <label id="label-password" for="input-password"> Password. </label>
        <span role="alert" class="error">
          {{ password?.errors | errorsMessagePipe: errorMessages.password }}
        </span>
      </div>
    </div>

    <div class="label-input">
      <input
        id="input-confirmPassword"
        type="password"
        formControlName="confirmPassword"
        placeholder="e.g: Password123"
        required
      />
      <div class="label-error-wrapper">
        <label id="label-confirmPassword" for="input-confirmPassword">
          Password confirmation.
        </label>
        <span role="alert" class="error">
          {{
            confirmPassword?.errors
              | errorsMessagePipe: errorMessages.confirmPassword
          }}
        </span>
        <span
          role="alert"
          [class.error]="
            (
              confirmPassword?.errors
              | confirmPasswordPipe: password?.value : confirmPassword?.value
            ).includes('not confirmed')
          "
          [class.ok]="
            !(
              confirmPassword?.errors
              | confirmPasswordPipe: password?.value : confirmPassword?.value
            ).includes('not confirmed')
          "
        >
          {{
            confirmPassword?.errors
              | confirmPasswordPipe: password?.value : confirmPassword?.value
          }}
        </span>
      </div>
    </div>

    <div>
      <button
        type="submit"
        [disabled]="
          !register.valid ||
          email?.errors ||
          username?.errors ||
          password?.errors ||
          confirmPassword?.errors ||
          password?.value !== confirmPassword?.value
        "
      >
        Register
      </button>
    </div>
  </fieldset>
</form>
